@model IEnumerable<RentCar.Models.Car>

@{
    ViewBag.Title = "Index";
}

<h2>Cars</h2>

@*<p>
    @Html.ActionLink("New Car", "Create",null,new { @class = "btn btn-primary"})
</p>*@
@if (!Model.Any())
{
    <p> We don't have any cars yet</p>
}
<table id="tbCars" class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Brand.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ReleaseDate)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Miles)
        </th>
        
        @*<th>
            Delete
        </th>*@
    </tr>

@foreach (var item in Model)
{
    <tr>
        <td>
            @Html.ActionLink(item.Brand.Name, "Details", new { id = item.Id })
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.ReleaseDate)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Miles)
        </td>
        @*<td>
            <button data-car-id="@item.Id" class="btn btn-link js-delete">Delete</button>
        </td>*@
    </tr>
}

</table>
@section scripts
{
    <script>
        //$(document).ready(function() {
        //    $("#tbCars").on("click",
        //        ".js-delete",
        //        function () {
        //            var button = $(this);
        //            bootbox.confirm("Do you want to Delete a car?",
        //                function(result) {
        //                    if (result) {
        //                        $.ajax({
        //                            url: "/api/Cars/" + button.attr("data-car-id"),
        //                            method: "DELETE",
        //                            success: function(responde) {
        //                                console.log("Success");
        //                                button.parent("tr").remove();
        //                            }
        //                        });
        //                    }
        //                });
        //        });
        //});
    </script>
}
